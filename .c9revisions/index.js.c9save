{"ts":1342371809195,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var express = require(\"express\");\nvar app = express.createServer();\nvar geohash = require(\"geohash\").GeoHash;\nvar twit = require(\"twit\");\nvar tconf = require(\"./conf/twitconf\"); //config file for twitter\n\nvar twitter = new twit(tconf.getConf())\n\n\n// route routing is very easy with express, this will handle the request for root directory contents.\n// :id is used here to pattern match with the first value after the forward slash.\napp.get(\"/maps/:id\",function (req,res)\n    {\n                //decode the geohash with geohash module\n\t\tvar latlon = geohash.decodeGeoHash(req.params[\"id\"]);\n\t\tconsole.log(\"latlon : \" + latlon);\n\t\tvar lat = latlon.latitude[2];\n\t\tconsole.log(\"lat : \" + lat);\n\tvar lon = latlon.longitude[2];\n\t\tconsole.log(\"lon : \" + lon);\n\t\tzoom = req.params[\"id\"].length + 2;\n\t\tconsole.log(\"zoom : \" + zoom);\n                // now we use the templating capabilities of express and call our template to render the view, and pass a few parameters to it\n\t\tres.render(\"index.ejs\", { layout: false, lat:lat, lon:lon, zoom:zoom, geohash:req.params[\"id\"]});\n\t});\n            \n//app.get(\"/wordle\",function(req,res)\n//    {\n//        res.render(\"wordle.ejs\", { layout: false});\n//    });\n//    \n//app.get(\"/googleTrends\",function(req,res)\n//    {\n//        res.render(\"googleTrends.ejs\", { layout: false});\n//    });\n//    \n//app.get(\"/topGoogleTrendToTwitter\",function(req,res)\n//    {\n//        res.render(\"topGoogleTrendToTwitter.ejs\", { layout: false});\n//    });\n    \n    \napp.get(\"/earth\",function(req,res)\n    {\n        res.render(\"earthDiv.ejs\", { layout: false});\n        \n    });\n    \n//just to get drag/resize working\napp.get(\"/trendywall\",function(req,res)\n    {\n        twitter.get('search', { q: 'cybersecurity', since: '2011-11-11' }, function(err, reply) {\n        console.log(err);\n        res.render(\"trendywall.ejs\", { layout: false, twitter_results:reply});\n\n        });\n        \n    });\n    \n//working on dynamic loading of the divs here\napp.get(\"/trendywall2\",function(req,res)\n    {\n        \n        twitter.get('search', { q: 'cybersecurity', since: '2011-11-11' }, function(err, reply) {\n            console.log(\"in index.js\",err,reply);\n          res.render(\"trendywall2.ejs\", { layout: false, twitter_results:reply});\n\n        });           \n        \n        \n    });\n\n//process.env.PORT is a cloud9 thing. Use your own port (ex 9999) if on a normal platform.\napp.listen(process.env.PORT);"]],"start1":0,"start2":0,"length1":0,"length2":2423}]],"length":2423}
{"contributors":[],"silentsave":false,"ts":1342371836071,"patch":[[{"diffs":[[1,"var express = require(\"express\");\nvar app = express.createServer();\nvar geohash = require(\"geohash\").GeoHash;\nvar twit = require(\"twit\");\nvar tconf = require(\"./conf/twitconf\"); //config file for twitter\n\nvar twitter = new twit(tconf.getConf())\n\n\n// route routing is very easy with express, this will handle the request for root directory contents.\n// :id is used here to pattern match with the first value after the forward slash.\napp.get(\"/maps/:id\",function (req,res)\n    {\n                //decode the geohash with geohash module\n\t\tvar latlon = geohash.decodeGeoHash(req.params[\"id\"]);\n\t\tconsole.log(\"latlon : \" + latlon);\n\t\tvar lat = latlon.latitude[2];\n\t\tconsole.log(\"lat : \" + lat);\n\tvar lon = latlon.longitude[2];\n\t\tconsole.log(\"lon : \" + lon);\n\t\tzoom = req.params[\"id\"].length + 2;\n\t\tconsole.log(\"zoom : \" + zoom);\n                // now we use the templating capabilities of express and call our template to render the view, and pass a few parameters to it\n\t\tres.render(\"index.ejs\", { layout: false, lat:lat, lon:lon, zoom:zoom, geohash:req.params[\"id\"]});\n\t});\n            \n//app.get(\"/wordle\",function(req,res)\n//    {\n//        res.render(\"wordle.ejs\", { layout: false});\n//    });\n//    \n//app.get(\"/googleTrends\",function(req,res)\n//    {\n//        res.render(\"googleTrends.ejs\", { layout: false});\n//    });\n//    \n//app.get(\"/topGoogleTrendToTwitter\",function(req,res)\n//    {\n//        res.render(\"topGoogleTrendToTwitter.ejs\", { layout: false});\n//    });\n    \n    \napp.get(\"/earth\",function(req,res)\n    {\n        res.render(\"earthDiv.ejs\", { layout: false});\n        \n    });\n    \n//just to get drag/resize working\napp.get(\"/trendywall\",function(req,res)\n    {\n        twitter.get('search', { q: 'cybersecurity', since: '2011-11-11' }, function(err, reply) {\n        console.log(err,reply);\n        res.render(\"trendywall.ejs\", { layout: false, twitter_results:reply});\n\n        });\n        \n    });\n    \n//working on dynamic loading of the divs here\napp.get(\"/trendywall2\",function(req,res)\n    {\n        \n        twitter.get('search', { q: 'cybersecurity', since: '2011-11-11' }, function(err, reply) {\n            console.log(\"in index.js\",err,reply);\n          res.render(\"trendywall2.ejs\", { layout: false, twitter_results:reply});\n\n        });           \n        \n        \n    });\n\n//process.env.PORT is a cloud9 thing. Use your own port (ex 9999) if on a normal platform.\napp.listen(process.env.PORT);"]],"start1":0,"start2":0,"length1":0,"length2":2429}]],"length":2429,"saved":false}
{"contributors":[],"silentsave":false,"ts":1342371947597,"patch":[[{"diffs":[[0,"le.log(err,reply"],[1,".results.length"],[0,");\n        res.r"]],"start1":1793,"start2":1793,"length1":32,"length2":47}]],"length":2444,"saved":false}
